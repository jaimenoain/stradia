# AI Status

## Core Framework Versions
- **Next.js**: 15.5.12
- **React**: 19.2.4
- **TypeScript**: ^5

## Tooling Setup
- **ESLint**: Configured and active.
- **Prettier**: Configured with standard settings.
- **Strict Mode**: Enabled in `tsconfig.json`.

## Context Packing (Repomix)
- **Configuration**: `repomix.config.json` established with strict output settings (XML, line numbers, no empty lines).
- **Prioritization**: `.ai-status.md` is pinned as instructions. Documentation files (`docs/*`) are included in standard alphabetical order.

## Documentation
- **Task 0.2: Ground Truth Documentation** successfully seeded and verified.
    - `ARCHITECTURE.md`
    - `FUNCTIONAL_SPEC.md`
    - `DOMAIN_MODEL.md`
    - `UX_SPEC.md`
    - `API_CONTRACT.md`

## Design System Status
- **Design Tokens**: Configured in `app/globals.css` and `tailwind.config.ts`.
    - **Colors**: HSL variables (background, foreground, primary, secondary, accent, destructive, success, warning, etc.).
    - **Typography**: `var(--font-sans)` with fallback to Inter and sans-serif.
- **Components (Shadcn/UI)**:
    - `button`
    - `input`
    - `card`
    - `alert`
    - `toast`
    - `toaster`
    - `table`
    - `resizable`

## Current Architecture Snapshot

### 1. Routing Topology (Next.js App Router)
The application uses Route Groups to enforce layout boundaries:
- **`app/(marketing)`**: Public landing pages.
- **`app/(auth)`**: Authentication flows (Login), using a centered card layout.
- **`app/(dashboard)`**: Authenticated views (Overview, Strategies, Settings, Boards), using a persistent Sidebar + TopNav layout.

**Verified Routes:**
- `/` -> Marketing Home
- `/login` -> Login Page
- `/overview` -> Global Dashboard
- `/strategies` -> Strategy Builder
- `/settings` -> Settings
- `/markets/[marketId]/board` -> Local Kanban Board

### 2. Global Providers (`app/providers.tsx`)
All client-side context providers are wrapped in `app/layout.tsx`:
- **`NextThemesProvider`**: Handles light/dark mode.
- **`QueryClientProvider`**: Mock implementation (placeholder for TanStack Query).
- **`AuthProvider`**: React Context managing `user` state and `login/logout` methods.
- **`MockSessionProvider`**: Automatically hydrates `useSessionStore` with a `GLOBAL_ADMIN` user when `NEXT_PUBLIC_USE_MOCKS=true`.

### 3. State Management Strategy
- **Session State**: Managed via **Zustand** (`lib/stores/session-store.ts`) for global access.
- **Auth State**: Managed via **React Context** (`lib/auth/provider.tsx`) for component lifecycle integration.
- **Data Fetching**: Abstrated via `lib/api-client.ts` which toggles between `fetch` and `MockApiClient`.

## Current Phase Status
- **Phase 1: The Walking Skeleton**: **COMPLETE**
- **Status**: The application shell is fully functional. Users can navigate between public, auth, and dashboard layouts. Mock authentication simulates a logged-in state, allowing development of protected routes without a backend.

## Verification Status (Latest - Task 1.97)
- **Timestamp**: [Task Execution]
- **TypeScript**: Passed (`npx tsc --noEmit`) - Zero errors.
- **Linting**: Passed (`npm run lint`) - Zero errors.
- **Build**: Passed (`npm run build`) - Zero errors.
- **Regressions**: None found.
- **Fixes**: No new fixes required.

## Verification Status (Latest - Task 1.98)
- **Timestamp**: [Task Execution]
- **Log**: "All Phase 1 navigation and layout switching tests passed successfully. The Walking Skeleton UI functions exactly as intended, with all layouts rendering, mock states active, and routes connecting seamlessly."
- **Phase Completion**: Phase 1: The Walking Skeleton is officially COMPLETE.
